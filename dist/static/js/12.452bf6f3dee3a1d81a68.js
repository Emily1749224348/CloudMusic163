webpackJsonp([12],{f7OZ:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s("Xxa5"),n=s.n(r),a=s("exGp"),c=s.n(a),o=s("IVis"),i=(s("Qzga"),{name:"home",data:function(){return{userId:"",userDetail:{},userInfo:{},userSubcount:{},createdDjRadio:[],createdPlaylist:[],collectPlaylist:[],playRecord:[],playlist:[]}},methods:{init:function(){var t=this;return c()(n.a.mark(function e(){var s,r;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getUerDetail();case 2:return e.next=4,t.getUserSubcount();case 4:return e.next=6,t.getCreatedDjRadio();case 6:return s=e.sent,e.next=9,console.log("createdDjRadio");case 9:return e.next=11,console.log(s);case 11:return e.next=13,s.data.djRadios;case 13:return t.createdDjRadio=e.sent,e.next=16,t.getUserRecord();case 16:return r=e.sent,e.next=19,console.log("record");case 19:return e.next=21,console.log(r);case 21:return t.playRecord=r.data.allData.slice(0,10),e.next=24,t.updatePlaylist();case 24:case"end":return e.stop()}},e,t)}))()},getUerDetail:function(){var t=this;return c()(n.a.mark(function e(){var s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.c)({uid:t.userId});case 2:s=e.sent,t.userDetail=s.data,t.userInfo=s.data.profile;case 5:case"end":return e.stop()}},e,t)}))()},getUserSubcount:function(){var t=this;return c()(n.a.mark(function e(){var s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.g)();case 2:s=e.sent,t.userSubcount=s.data;case 4:case"end":return e.stop()}},e,t)}))()},getUserPlaylist:function(){var t=this;return c()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.e)({uid:t.userId,limit:10,offset:1}));case 1:case"end":return e.stop()}},e,t)}))()},getUserDj:function(){var t=this;return c()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.d)({uid:t.userId}));case 1:case"end":return e.stop()}},e,t)}))()},getUserRecord:function(){var t=this;return c()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.f)({uid:t.userId,type:0}));case 1:case"end":return e.stop()}},e,t)}))()},getCreatedDjRadio:function(){var t=this;return c()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.a)({uid:t.userId}));case 1:case"end":return e.stop()}},e,t)}))()},updatePlaylist:function(){var t=this;return c()(n.a.mark(function e(){var s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getUserPlaylist();case 2:return s=e.sent,e.next=5,console.log("playlist");case 5:return e.next=7,console.log(s);case 7:return e.next=9,s.data.playlist;case 9:return t.playlist=e.sent,e.next=12,console.log("this.playlist");case 12:return e.next=14,console.log(t.playlist);case 14:return e.next=16,t.playlist.filter(function(t){return 0==t.subscribed});case 16:return t.createdPlaylist=e.sent,e.next=19,console.log("this.createdPlaylist");case 19:return e.next=21,console.log(t.createdPlaylist);case 21:return e.next=23,t.playlist.filter(function(t){return 1==t.subscribed});case 23:return t.collectPlaylist=e.sent,e.next=26,console.log("this.collectPlaylist");case 26:return e.next=28,console.log(t.collectPlaylist);case 28:case"end":return e.stop()}},e,t)}))()},getMusicUrl:function(t){var e=this;return c()(n.a.mark(function s(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.b)(t));case 1:case"end":return e.stop()}},s,e)}))()},playMusic:function(t){var e=this;return c()(n.a.mark(function s(){return n.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:e.$store.commit("updateMusicId",t.song.id),e.$store.state.musicList=[],e.$store.state.musicList.push(t.song);case 3:case"end":return s.stop()}},s,e)}))()},goToUserFollows:function(){this.$router.push({path:"/user/follows",query:{id:this.userId}})},goToUserEvents:function(){this.$router.push({path:"/user/events",query:{id:this.userId}})},goToUserFans:function(){this.$router.push({path:"/user/fans",query:{id:this.userId}})},goToUserLevel:function(){this.$router.push({path:"/user/level"})}},created:function(){var t=this;return c()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$route.query.id;case 2:return t.userId=e.sent,e.next=5,t.init();case 5:return e.next=7,console.log("user detail");case 7:return e.next=9,console.log(t.userDetail);case 9:return e.next=11,console.log("userInfo");case 11:return e.next=13,console.log(t.userInfo);case 13:return e.next=15,console.log("userSubcount");case 15:return e.next=17,console.log(t.userSubcount);case 17:case"end":return e.stop()}},e,t)}))()},watch:{},computed:{},components:{}}),u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"userHome"}},[s("keep-alive",[s("el-container",{attrs:{direction:"vertical"}},[s("div",{staticClass:"header"},[s("img",{attrs:{src:t.userInfo.avatarUrl,width:"100px",height:"100px"}}),t._v(" "),s("div",{staticClass:"info"},[s("h2",[t._v(t._s(t.userInfo.nickname))]),t._v(" "),s("h4",[t._v("个人介绍："+t._s(t.userInfo.signature))]),s("br"),t._v(" "),s("h4",{staticClass:"events",on:{click:t.goToUserLevel}},[t._v("等级：Lv"+t._s(t.userDetail.level)+" ")]),s("br"),t._v(" "),s("h4",{staticClass:"events",on:{click:t.goToUserEvents}},[t._v("动态："+t._s(t.userInfo.eventCount))]),t._v(" "),s("h4",{staticClass:"events",on:{click:t.goToUserFollows}},[t._v("关注："+t._s(t.userInfo.follows))]),t._v(" "),s("h4",{staticClass:"events",on:{click:t.goToUserFans}},[t._v("粉丝："+t._s(t.userInfo.followeds))])])]),t._v(" "),s("div",[s("div",{staticClass:"djradio part"},[s("h3",[t._v("我创建的电台("+t._s(t.userSubcount.createDjRadioCount)+")")]),t._v(" "),s("el-divider"),t._v(" "),t._l(t.createdDjRadio,function(e,r){return s("el-row",{key:r,attrs:{gutter:10}},[s("el-col",{attrs:{span:6}},[s("img",{attrs:{src:e.intervenePicUrl,width:"40",height:"40"}})]),t._v(" "),s("el-col",{staticClass:"names",attrs:{span:8}},[t._v(t._s(e.name))]),t._v(" "),s("el-col",{attrs:{span:6}},[t._v("订阅 "+t._s(e.subCount)+" 次")]),t._v(" "),s("el-col",{attrs:{span:2}},[t._v(t._s(e.programCount)+" 期")])],1)})],2),t._v(" "),s("div",{staticClass:"part"},[s("h3",[t._v("听歌排行")]),t._v(" "),s("el-divider"),t._v(" "),t._l(t.playRecord,function(e,r){return s("el-row",{key:r,staticClass:"records",attrs:{gutter:10,width:"100%"}},[s("el-col",{staticClass:"name songName",staticStyle:{width:"250px"},attrs:{span:10},on:{click:function(s){return t.playMusic(e)}}},[t._v(t._s(e.song.name))]),t._v(" "),s("el-col",{staticClass:"name",staticStyle:{"{color":"gray}"},attrs:{span:6,offset:2}},[t._v(" -"+t._s(e.song.ar[0].name))]),t._v(" "),s("el-col",{attrs:{span:6}},[t._v(t._s(e.playCount))]),t._v(" "),s("el-col",{attrs:{span:2}},[s("i",{staticClass:"el-icon-video-play",on:{click:function(s){return s.preventDefault(),t.playMusic(e)}}})])],1)})],2),t._v(" "),s("div",{staticClass:"part"},[s("h3",[t._v("我创建的歌单("+t._s(t.userSubcount.createdPlaylistCount)+")")]),t._v(" "),s("el-divider"),t._v(" "),t._l(t.createdPlaylist,function(e,r){return s("el-card",{key:r,staticClass:"cards",attrs:{"body-style":{padding:"0px"},shadow:"hover"}},[s("img",{staticClass:"image",attrs:{src:e.coverImgUrl}}),t._v(" "),s("div",{staticStyle:{padding:"14px",display:"flex","flex-flow":"nowrap column"}},[s("div",{staticClass:"names playlist"},[t._v(t._s(e.name))]),t._v(" "),s("div",{staticClass:"bottom clearfix"},[s("el-button",{staticClass:"button",attrs:{type:"text"}},[t._v("操作按钮")])],1)])])})],2),t._v(" "),s("div",{staticClass:"part"},[s("h3",[t._v("我收藏的歌单("+t._s(t.userSubcount.subPlaylistCount)+") ")]),t._v(" "),s("el-divider"),t._v(" "),t._l(t.collectPlaylist,function(e,r){return s("el-card",{key:r,staticClass:"cards",attrs:{"body-style":{padding:"0px"},shadow:"hover"}},[s("img",{staticClass:"image",attrs:{src:e.coverImgUrl}}),t._v(" "),s("div",{staticStyle:{padding:"14px",display:"flex","flex-flow":"nowrap column"}},[s("div",{staticClass:"names playlist"},[t._v(" "+t._s(e.name))]),t._v(" "),s("div",{staticClass:"bottom clearfix"},[s("el-button",{staticClass:"button",attrs:{type:"text"}},[t._v("操作按钮")])],1)])])})],2)])])],1)],1)},staticRenderFns:[]};var l=s("VU/8")(i,u,!1,function(t){s("nAYm")},null,null);e.default=l.exports},nAYm:function(t,e){}});
//# sourceMappingURL=12.452bf6f3dee3a1d81a68.js.map